<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>お問い合わせフォーム</title>
<style>
body { font-family: Arial; max-width: 600px; margin: 20px auto; }
label { display: block; margin-top: 12px; }
input, textarea { width: 100%; padding: 8px; margin-top: 4px; }
button { margin-top: 20px; padding: 10px; font-size: 16px; cursor: pointer; }
</style>
</head>
<body>
<h2>お問い合わせ</h2>
<form id="contactForm" enctype="multipart/form-data">
  <label>会社名（必須）
    <input name="company" required>
  </label>
  <label>ご担当者名（必須）
    <input name="name" required>
  </label>
  <label>会社メールアドレス（必須）
    <input name="email" type="email" required>
  </label>
  <label>指値（必須）
    <input name="price" type="number" required>
  </label>
  <label>希望納期
    <input name="duedate" type="date">
  </label>
  <label>図面（PDF/DXF/DWG/STEP）
    <input name="file" type="file">
  </label>
  <label>補足事項
    <textarea name="note" rows="4"></textarea>
  </label>
  <button type="submit">送信</button>
</form>
<div id="msg" style="margin-top:20px;color:green;"></div>

<script>
document.getElementById("contactForm").addEventListener("submit", function(e){
  e.preventDefault();
  const fd = new FormData(this);

  // フリーメール排除（BtoB）
  const email = fd.get("email");
  if(email.endsWith("@gmail.com") || email.endsWith("@yahoo.com") || email.endsWith("@hotmail.com")){
    alert("フリーメールはご利用いただけません。会社メールをご入力ください。");
    return;
  }

  fetch("YOUR_GAS_URL", {  // ← ここを後で GAS URL に置き換え
    method: "POST",
    body: fd
  })
  .then(r => r.text())
  .then(t => {
    document.getElementById("msg").innerText = "送信完了しました。ありがとうございます。";
    document.getElementById("contactForm").reset();
  })
  .catch(err => {
    alert("送信に失敗しました。");
    console.error(err);
  });
});
</script>

</body>
</html>
